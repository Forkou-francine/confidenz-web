

<body>
  <div class="container-scroller">
    <!-- partial:partials/_navbar.html -->
   
    <app-nav></app-nav>

    <!-- partial -->
    <div class="container-fluid page-body-wrapper">
      <!-- partial:partials/_settings-panel.html -->
     <app-sidenav></app-sidenav>
      <!-- partial -->
      <div class="main-panel">
        <div class="content-wrapper">
 
            <div class="card">
                <div class="card-body">                  
                  <div class="d-flex justify-content-end " style="margin-bottom: 10px">
                  <button data-toggle="modal" data-target="#ajouterDocumentModal" type="button" class="btn btn-primary btn-icon-text">
                    <i class="ti-upload btn-icon-prepend"></i>                                                    
                    Upload
                  </button>
                </div>
                <h4 class="card-title">Liste des Documents</h4>
                <p class="card-description">
                 Voici la liste de tous les documents qui vous concernent
                </p>  
                  <div class="table-responsive">
                    <table id="table_id" class="table table-striped">
                      <thead>
                        <tr>
                          <th scope="row"> Name </th>
                          <th scope="row"> Description </th>
                          <th scope="row"> Added Date </th>
                          <th scope="row"> Actions </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr  *ngFor="let file of files">
                          <td scope="row" routerLink="/details" class="py-1">
                            <i class="bi bi-file-earmark-arrow-up u--full"></i>&nbsp;<span style="font-size:16px ; ">{{file.name}}</span>
                          </td>
                          <td> {{file.description}} </td>
                          <td> {{file.creationDate | date:'mediumDate'}} </td>
                          <td>
                            <div class="icon d-flex gap-lg-2 ">
                                <div>
                                    <button type="button" (click)="onEdit(file._id)" class="btn btn-primary btn-rounded btn-icon">
                                      <i class="fa fa-eye"></i>                                        
                                    </button>
                                </div>
                                <div>
                                  <button type="button" (click)="onDelete(file._id)" class="btn btn-danger btn-rounded btn-icon ">
                                    <i class="fa fa-trash-can "></i>                                        
                                  </button>
                              </div>    
                            </div>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
        <!-- content-wrapper ends -->

        <!--Ajout Document-->
     
        <div class="modal fade" id="ajouterDocumentModal" tabindex="-1" aria-labelledby="ajouterDocumentModal" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="modal-title">Importer un Document</h5>
                <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <form action="#" method="post" class=" form-sample row justify-content-center gap-3" [formGroup]="uploadForm">
                  <div class="form-group">
                      <label for="class" class="form-label"> Nom du fichier</label>
                        <input type="text" class="form-control" formControlName="name" id="filename" placeholder="Liste des ...">
                    </div>
                    <div class="form-group">
                      <label for="class" class="form-label"> Description</label>
                        <textarea type="text" name="description" class="form-control" formControlName="description" id="description" placeholder="Ce fichier"></textarea>
                    </div>
                    <div class="form-group">
                      <label for="class" class="form-label"> Date de cr√©ation</label>
                        <input type="date" class="form-control" formControlName="creationDate" id="dateajout" placeholder="aujourd'hui">
                    </div>
                    <div class="form-group">
                      <label for="formFileMultiple" class="form-label ">Choisir un fichier</label>
                        <input class="form-control" (change)="onChange($event)" type="file" id="formFileMultiple" />
                      </div>
                </form>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-light" data-dismiss="modal">Annuler</button>
                <input type="submit" (click)="onUpload()" [disabled]="this.file == null || this.submitted || this.uploadForm.invalid" class="btn btn-primary" value="Importer">
              </div>
            </div>
          </div>
      </div>
      
        <!-- partial:partials/_footer.html -->
        <app-footer></app-footer>
        <!-- partial -->
      </div>
      <!-- main-panel ends -->
    </div>
    <!-- page-body-wrapper ends -->
  </div>
  </div>
  <!-- container-scroller -->

  <!-- plugins:js -->
 

